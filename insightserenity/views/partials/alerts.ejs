<!-- views/partials/alert.ejs -->
<% if (locals.success && success.length > 0) { %>
    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6" role="alert">
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <i data-lucide="check-circle" class="h-5 w-5 text-green-500"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm"><%= success %></p>
            </div>
            <button type="button" class="close-alert ml-auto -mx-1.5 -my-1.5 text-green-500 p-1.5 hover:text-green-700 focus:outline-none">
                <i data-lucide="x" class="h-4 w-4"></i>
            </button>
        </div>
    </div>
<% } %>

<% if (locals.error && error.length > 0) { %>
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6" role="alert">
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <i data-lucide="alert-circle" class="h-5 w-5 text-red-500"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm"><%= error %></p>
            </div>
            <button type="button" class="close-alert ml-auto -mx-1.5 -my-1.5 text-red-500 p-1.5 hover:text-red-700 focus:outline-none">
                <i data-lucide="x" class="h-4 w-4"></i>
            </button>
        </div>
    </div>
<% } %>

<% if (locals.info && info.length > 0) { %>
    <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6" role="alert">
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <i data-lucide="info" class="h-5 w-5 text-blue-500"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm"><%= info %></p>
            </div>
            <button type="button" class="close-alert ml-auto -mx-1.5 -my-1.5 text-blue-500 p-1.5 hover:text-blue-700 focus:outline-none">
                <i data-lucide="x" class="h-4 w-4"></i>
            </button>
        </div>
    </div>
<% } %>

<% if (locals.warning && warning.length > 0) { %>
    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6" role="alert">
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <i data-lucide="alert-triangle" class="h-5 w-5 text-yellow-500"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm"><%= warning %></p>
            </div>
            <button type="button" class="close-alert ml-auto -mx-1.5 -my-1.5 text-yellow-500 p-1.5 hover:text-yellow-700 focus:outline-none">
                <i data-lucide="x" class="h-4 w-4"></i>
            </button>
        </div>
    </div>
<% } %>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Close alert functionality
        const closeButtons = document.querySelectorAll('.close-alert');
        closeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const alert = this.closest('[role="alert"]');
                alert.classList.add('opacity-0');
                setTimeout(() => {
                    alert.remove();
                }, 300);
            });
        });
        
        // Auto-dismiss alerts after 5 seconds
        setTimeout(() => {
            document.querySelectorAll('[role="alert"]').forEach(alert => {
                alert.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => {
                    alert.remove();
                }, 300);
            });
        }, 5000);
    });
</script>